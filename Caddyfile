:8080 {
    @v1 {
        path /v1/*
    }
    @auth {
        header Authorization "Bearer {$CADDY_AUTHORIZATION}"
        path /v1/*
    }
    route @auth {
        reverse_proxy docling-serve:5001
    }
    route @v1 {
        respond "Unauthorized" 401
    }
    route {
        basicauth {
            {$CADDY_USERNAME} {$CADDY_PASSWORD_HASH}
        }
        reverse_proxy docling-serve:5001
    }
}

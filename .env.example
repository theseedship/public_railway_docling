# Railway Docling Template Environment Variables
# Copy this file to .env for local development
# Railway will automatically set these in the deployment environment

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# Bearer Token for API Authentication (/v1/* endpoints)
# IMPORTANT: Generate a secure random token for production!
# Example: openssl rand -hex 32
# Railway auto-generates this if not set using your deployment URL hash
CADDY_AUTHORIZATION=your-secure-bearer-token-here

# Basic Authentication Username (for UI and non-API endpoints)
# Default: admin
CADDY_USERNAME=admin

# Basic Authentication Password 
# Just set your password here - the system handles encryption automatically!
# To change: simply update this value and redeploy
PASSWORD=your-secure-password-here

# IP Filtering (Optional)
# Enable IP-based access control
# Default: false (disabled)
ENABLE_IP_FILTER=false

# Allowed IP addresses (CIDR format)
# Examples:
#   - Single IP: 192.168.1.100/32
#   - Subnet: 192.168.1.0/24
#   - Multiple (comma-separated): 192.168.1.0/24,10.0.0.5/32
# Default: 0.0.0.0/0 (all IPs allowed when filter is enabled)
ALLOWED_IPS=0.0.0.0/0

# ============================================
# LOGGING & MONITORING
# ============================================

# Logging Level
# Options: DEBUG, INFO, WARN, ERROR
# Default: INFO
LOG_LEVEL=INFO

# ============================================
# DOCLING SERVICE CONFIGURATION
# ============================================

# Enable Gradio UI at /ui endpoint
# Options: 1 (enable) or 0 (disable)
# Default: 1
DOCLING_SERVE_ENABLE_UI=1

# Docling Service Port (internal)
# Default: 5001 (usually doesn't need to be changed)
DOCLING_PORT=5001

# ============================================
# RAILWAY SPECIFIC (Auto-configured)
# ============================================

# Port for Caddy server
# Railway sets this automatically, no need to change
# Default: 8080
PORT=8080

# Railway Static URL (auto-set by Railway)
# Used for generating default auth tokens
# RAILWAY_STATIC_URL=https://your-app.up.railway.app

# Railway Environment (auto-set by Railway)
# Values: production, staging, development
# RAILWAY_ENVIRONMENT=production

# ============================================
# ADVANCED CONFIGURATION
# ============================================

# Rate Limiting - Global (requests per minute)
# Default: 1000
# RATE_LIMIT_GLOBAL=1000

# Rate Limiting - Per IP for API (requests per minute)
# Default: 100
# RATE_LIMIT_API_PER_IP=100

# Rate Limiting - Documentation endpoints (requests per minute per IP)
# Default: 30
# RATE_LIMIT_DOCS_PER_IP=30

# Maximum Request Body Size for API (in MB)
# Default: 50
# MAX_REQUEST_SIZE_API=50

# Maximum Request Body Size for Document Processing (in MB)
# Default: 100
# MAX_REQUEST_SIZE_DOCS=100

# Request Timeout for API calls (in seconds)
# Default: 60
# API_TIMEOUT=60

# Request Timeout for Document Processing (in seconds)
# Default: 300
# DOCUMENT_TIMEOUT=300

# Health Check Interval (in seconds)
# Default: 30
# HEALTH_CHECK_INTERVAL=30

# ============================================
# SECURITY HEADERS (Advanced)
# ============================================

# Content Security Policy
# Customize if you need different CSP rules
# CSP_POLICY="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline';"

# HSTS Max Age (in seconds)
# Default: 31536000 (1 year)
# HSTS_MAX_AGE=31536000

# ============================================
# CORS CONFIGURATION (if needed)
# ============================================

# Allowed Origins (comma-separated)
# Example: https://app1.com,https://app2.com
# Default: Not set (CORS disabled)
# CORS_ALLOWED_ORIGINS=

# Allowed Methods
# Default: GET,POST,PUT,DELETE,OPTIONS
# CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS

# Allowed Headers
# Default: Content-Type,Authorization
# CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ============================================
# DEPLOYMENT NOTES
# ============================================

# For Railway Deployment:
# 1. Do NOT commit .env file to your repository
# 2. Set environment variables in Railway dashboard
# 3. Use Railway's secret management for sensitive values
# 4. Enable "Private Networking" for internal services

# For Local Development:
# 1. Copy this file to .env
# 2. Update values as needed
# 3. Run: docker-compose up

# Security Best Practices:
# - Always use strong, unique passwords
# - Rotate API tokens regularly
# - Use Railway's environment-specific variables
# - Enable audit logging in production
# - Monitor rate limit violations
# - Set up alerts for authentication failures

# Need help?
# Documentation: https://github.com/yourusername/railway-docling-template
# Railway Docs: https://docs.railway.app
# Caddy Docs: https://caddyserver.com/docs